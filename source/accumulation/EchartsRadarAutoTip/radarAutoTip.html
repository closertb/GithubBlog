<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>雷达图自动轮播测试</title>
    <link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css">
    <link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

    <style>
        .analyse-echart{
            position: relative;
            margin:0 auto;
            height: 480px;
            width:800px;
        }
        .main-content{
            margin-top: 50px;
            margin-left:50px;
            font: normal 14px/24px 'Microsoft YaHei';
        }
    </style>
</head>
<body>
    <div class="header-inner"><div class="site-brand-wrapper">
        <div class="site-meta ">
            <div class="custom-logo-site-title">
                <a href="/" class="brand" rel="start" style="opacity: 1;">
                    <span class="logo-line-before"><i></i></span>
                    <span class="site-title" style="opacity: 1; top: 0px;">Denzel's Blog</span>
                    <span class="logo-line-after"><i></i></span>
                </a>
            </div>

            <p class="site-subtitle" style="opacity: 1; top: 0px;"></p>

        </div>

        <div class="site-nav-toggle">
            <button>
                <span class="btn-bar"></span>
                <span class="btn-bar"></span>
                <span class="btn-bar"></span>
            </button>
        </div>
    </div>
        <nav class="site-nav">
            <ul id="menu" class="menu">
                <li class="menu-item menu-item-home" style="opacity: 1; transform: translateY(0px);">
                    <a href="/" rel="section">

                        <i class="menu-item-icon fa fa-fw fa-home"></i>
                        首页
                    </a>
                </li>
                <li class="menu-item menu-item-archives" style="opacity: 1; transform: translateY(0px);">
                    <a href="/archives/" rel="section">

                        <i class="menu-item-icon fa fa-fw fa-archive"></i>

                        归档
                    </a>
                </li>
                <li class="menu-item menu-item-accumulation" style="opacity: 1; transform: translateY(0px);">
                    <a href="/accumulation" rel="section">

                        <i class="menu-item-icon fa fa-fw fa-rocket"></i>

                        作品展示
                    </a>
                </li>
                <li class="menu-item menu-item-about menu-item-active" style="opacity: 1; transform: translateY(0px);">
                    <a href="/about/" rel="section">
                        <i class="menu-item-icon fa fa-fw fa-user"></i>
                        关于我
                    </a>
                </li>

            </ul>
        </nav>
    </div>
    <div class="main-content">
        <h2><a href="/2017/09/从0开始撸一个支持单轴轮播的雷达图之未篇/">思路讲解</a></h2>
        <p><a href="https://github.com/closertb/myAccumulation/tree/master/EchartsRadarAutoTip" target="_blank">源码地址</a></p>
    </div>
    <div class="analyse-echart" id="highOpinionChart">
    </div>
    <button id="reset">停止</button>
    <button id="rereset">重置</button>
    <script src="https://cdn.bootcss.com/echarts/3.7.2/echarts.js"></script>
    <script src="RadarAutoTip.js"></script>
    <script>
        var option= {
            tooltip: {
                show:false
            },
            radar: {
                shape: 'circle',
                splitNumber: 4,
                radius:150,
                axisLine: {
                    lineStyle: {
                        color: '#003366',
                        opacity:1
                    }
                },
                splitLine: {
                    lineStyle: {
                        color: '#003366',
                        opacity:1
                    }
                },
                splitArea:{
                    areaStyle:{
                        opacity:0
                    }
                },
                indicator: [
                    { text: '卫生', max:100 },
                    { text: '服务', max:120 },
                    { text: '饮食',max:100},
                    { text: '风景',max:140 },
                    { text: '设施',max:100},
                    { text: '价格',max:150 },
                    { text: '管理',max:100  },
                    { text: '交通', max:100}
                ]
            },
            name: {
                formatter:function (val) {
                    return val;
                },
                textStyle: {
                    color:'#c6dff1',
                    fontSize:14
                }
            },

            series: [{
                name: '指数',
                type: 'radar',
                data : [
                    {
                        value : [40, 70, 50, 70, 42,90,72,90],
                        name : '指数',
                        itemStyle:{
                            normal:{
                                borderColor:'#ff5757',
                                opacity:1,
                                borderWidth:2,
                                borderType:'solid'
                            }},
                        lineStyle:{
                            normal:{
                                color:'#ff5757',
                                type:'solid',
                                width:2
                            }},
                        areaStyle: {
                            normal: {
                                opacity: 0.5,
                                color:'#ff5757'
                            }
                        }
                    }
                ]
            }]
        };
        var target = document.getElementById('highOpinionChart');

        var radarAutoInfo = {hoverEnable: true, autoShow: true, time: 2000, formatter:function(v){
            return v.text + ':' + (v.value*100/v.max).toFixed(2)+'%';
        }};
        myChart = echarts.init(target);
        myChart.setOption(option);
        RadarAutoTip(myChart,target, option, radarAutoInfo);
        document.querySelector('#reset').addEventListener('click',function (e) {
           console.log(e);
           if(e.target.innerText === '停止'){
               e.target.innerText ='开始'
               myChart.radarAutoTip.stop();
           }else{
               e.target.innerText  = '停止';
               myChart.radarAutoTip.start();
           }
        });
        var rereset = document.querySelector('#rereset') ;
        document.querySelector('#rereset').addEventListener('click',function (e) {
            myChart.radarAutoTip.reset();
        });
        rereset.style = "color:red;font-size:14px;"
        rereset.classList.add('.triangle')
    </script>
</body>
</html>